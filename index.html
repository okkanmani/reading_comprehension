<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RC Quiz — 5 Passages (Challenging 5th Grade)</title>
  <style>
    :root{
      --bg:#f4f7fb; --card:#ffffff; --accent:#0b66ff; --muted:#6b7280;
      --good:#ecfdf5; --good-text:#064e3b; --bad:#fff1f2; --bad-text:#7f1d1d;
      --max-width:1200px;
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:#0b1220;background:var(--bg)}
    .wrap{max-width:var(--max-width);margin:24px auto;padding:18px}
    .card{background:var(--card);border-radius:12px;padding:18px;box-shadow:0 8px 24px rgba(12,20,40,0.06)}
    header{display:flex;align-items:baseline;justify-content:space-between;gap:12px;margin-bottom:12px}
    header h1{margin:0;font-size:20px}
    header .muted{color:var(--muted);font-size:13px}
    /* layout: passage left, questions right */
    .layout{display:grid;grid-template-columns:1fr 420px;gap:18px;align-items:start}
    .passagePanel{padding:18px;overflow:auto;height:68vh}
    .questionsPanel{padding:14px;overflow:auto;height:68vh}
    .passTitle{font-size:22px;font-weight:700;margin-bottom:10px}
    .passageText{line-height:1.7;white-space:pre-wrap}
    .question{padding:10px;margin-bottom:12px;border-radius:8px;background:#fbfdff;border:1px solid #eef2ff}
    .qtext{font-weight:600;margin-bottom:8px}
    .muted{color:var(--muted);font-size:13px}
    label.option{display:block;padding:8px;margin:6px 0;border-radius:8px;cursor:pointer;border:1px solid transparent}
    label.option:hover{background:#f7fbff}
    input[type=radio]{margin-right:8px}
    .controls{display:flex;gap:10px;justify-content:flex-end;margin-top:12px}
    button{background:var(--accent);color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer;font-weight:600}
    button.secondary{background:#eef2ff;color:var(--accent);font-weight:600}
    button:disabled{opacity:0.5;cursor:default}
    .resultBox{margin-top:12px;padding:12px;border-radius:8px}
    .correct{background:var(--good);color:var(--good-text);padding:8px;border-radius:6px}
    .incorrect{background:var(--bad);color:var(--bad-text);padding:8px;border-radius:6px}
    .review-item{padding:8px;border-radius:8px;margin-bottom:8px;border:1px solid #eef2ff}
    .small{font-size:13px;color:var(--muted)}
    footer{margin-top:14px;color:var(--muted);font-size:13px}
    @media (max-width:980px){
      .layout{grid-template-columns:1fr;}.passagePanel{height:45vh}.questionsPanel{height:45vh}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div>
          <h1>Reading Comprehension — 5 Passages (Challenging)</h1>
          <div class="muted">5 passages • 6 questions each • 2 vocabulary questions per passage</div>
        </div>
        <div class="muted">Tip: Use <strong>Previous</strong> and <strong>Next</strong>. Submit only appears on the last page.</div>
      </header>

      <div id="main" class="layout">
        <div class="passagePanel card">
          <div id="passageHeader" class="passTitle">Passage 1 of 5 — Ancient Egyptian Daily Life</div>
          <div id="passageText" class="passageText"></div>

          <div class="controls" style="justify-content:flex-start;margin-top:16px">
            <button id="prevBtn" class="secondary">Previous</button>
          </div>
        </div>

        <div class="questionsPanel card">
          <div class="muted" id="qHeader">Questions</div>
          <div id="questionsContainer"></div>

          <div class="controls" style="margin-top:12px">
            <button id="nextBtn" class="secondary">Next</button>
            <button id="submitBtn" style="display:none">Submit</button>
          </div>

          <div id="feedback" style="margin-top:12px"></div>
        </div>
      </div>

      <footer class="muted">This quiz runs entirely in your browser. No data leaves your device.</footer>
    </div>
  </div>

<script>
/* ====== Passages and Questions ======
 Each passage: title, text, questions: {q, choices:[], a:correctIndex}
 Two vocabulary questions included per passage.
*/
const passages = [
  {
    title: "Ancient Egyptian Daily Life",
    text: `Life in ancient Egypt revolved around the Nile River, which made farming possible in a mostly dry land. Each year the river would flood, spreading a dark, nutrient-rich silt across the fields. Farmers planned their work by the river's rhythms: when waters rose they prepared canals and dikes, and when waters retreated they sowed seeds. Emmer wheat and barley were staple crops; flax was grown for linen cloth; vegetables and dates complemented meals. Fishing and hunting in marshes provided additional food, and families used papyrus to make baskets, mats, and paper-like sheets for writing.

Houses were typically made from sun-dried mud bricks. These small, boxy homes often had flat roofs where families slept during hot nights. Walls were sometimes whitewashed to reflect the sun. Inside, rooms were simply furnished with reed mats, stools, and clay storage jars. Wealthier households had larger courtyards, more rooms, and furniture carved from wood. Markets bustled at river towns where merchants exchanged pottery, grain, cloth, jewelry, and beads. Trade spread goods and ideas; Egypt's location connected it to African, Mediterranean, and Near Eastern networks.

Food for many Egyptians was humble but sufficient: the daily diet often centered on bread made from emmer, and a type of beer that was thicker and nutritional. Meat was a luxury for most, reserved for festivals or the well-to-do. On special days people feasted, offering portions of food to household gods and sharing with friends and family. Children played with toys like dolls and spinning tops; learning happened at home by watching parents, though some boys from richer families learned to be scribes. Scribes studied in schools attached to temples and government offices; writing in hieroglyphs or later in hieratic was difficult but opened opportunities in administration and record-keeping.

Religion and ritual shaped daily life. Egyptians worshipped many gods—Ra the sun god, Osiris the ruler of the afterlife, Isis the mother and healer among them. Temples were centers of belief and economy; priests conducted rituals, taught, and managed temple lands. Belief in an afterlife guided funerary practices: people prepared grave goods, food offerings, and carefully wrapped the dead so they could continue in the Field of Reeds, an idealized continuation of life. This hope for a good afterlife encouraged acts of piety, record-keeping about family, and artistic production.

Crafts were important: potters, carpenters, weavers, jewelers, and stone workers all specialized. Artisans produced beautiful amulets and coffins, decorated with scenes meant to protect the owner in death. Despite hardships like floods that failed to come or periodic political unrest, communities adapted — using knowledge of the land, shared customs, and the Nile's gifts to thrive for millennia.`,
    questions: [
      { q: "What natural event made agriculture dependable in ancient Egypt?", choices: ["Volcano eruptions", "Seasonal Nile floods", "Ocean tides", "Regular rainfall year-round"], a: 1 },
      { q: "Why did people sometimes sleep on flat roofs?", choices: ["To be closer to the stars", "To avoid theft", "Because roofs were warm", "To escape the heat of nights"], a: 3 },
      { q: "Which job required special schooling and opened administrative opportunities?", choices: ["Fisher", "Potter", "Scribe", "Carpenter"], a: 2 },
      { q: "What role did temples play in everyday life?", choices: ["They were only for the Pharaoh", "Centers of belief and local economy", "Places where people slept", "Markets for fish only"], a: 1 },
      { q: "Word meaning — In the passage, what does “nutrient-rich” most nearly mean?", choices: ["Full of tiny animals", "Having many useful substances for plants", "Heavy and dense", "Very hot"], a: 1 },
      { q: "Word meaning — What does “artisan” mean as used in the passage?", choices: ["A type of farm tool", "A skilled craftsperson", "A religious leader", "A river worker"], a: 1 }
    ]
  },

  {
    title: "The Science of Tsunamis",
    text: `A tsunami is a powerful series of waves often triggered by a sudden displacement of a large volume of water. The most familiar cause is an undersea earthquake: when tectonic plates shift abruptly, the seafloor may rise or drop and push the overlying water column. Tsunamis can also result from landslides that fall into the sea, volcanic eruptions that displace water, or rarely by meteorite impacts. Because the forces involved are enormous, tsunamis can travel across whole ocean basins and damage distant shores.

In deep water, tsunami waves can move extremely fast—sometimes many hundreds of miles per hour—but their wave heights are low, often just a little higher than normal waves. Ships in the open ocean might hardly notice them. As a tsunami approaches shallow coastal water, the ocean floor forces the wave energy upward. The waves slow down and compress, growing in height and becoming more destructive. Instead of a single tall wave, tsunamis often arrive as a sequence of waves, with the first not always the largest. This makes predicting the danger complicated: danger can persist for many hours.

Scientists detect possible tsunamis using networks of seismographs, tidal gauges, and deep-ocean buoys called DART buoys that record sudden changes in water level. When an earthquake is detected below or near the ocean, tsunami warning centers analyze the quake's size and depth and consult sensor networks to decide whether to issue alerts. Early warning systems provide valuable time for evacuation, but response relies on preparation: clear evacuation routes, practiced drills, and public knowledge of natural warning signs—like a very sudden retreat of the sea or unusual animal behavior.

Coastal geography affects how a tsunami behaves. Narrow bays and shallow shelves can amplify wave height, while barrier islands may absorb some energy. Human settlements on low-lying coasts or river mouths are especially vulnerable. Protecting populations requires combining natural science, engineering, planning, and education: building seawalls where appropriate, keeping development away from the most hazardous zones, restoring coastal wetlands and mangroves that can help absorb energy, and making sure communities know how to respond quickly.

Ultimately, tsunamis remind us that Earth is dynamic. Understanding the physical causes helps reduce harm. But equally important is investing in systems and community preparedness so that, when rare events occur, lives can be saved through timely warnings and clear action.`,
    questions: [
      { q: "What commonly causes tsunamis according to the passage?", choices: ["Tidal changes", "Undersea earthquakes", "Moon phases", "Wind storms"], a: 1 },
      { q: "Name two other events that can generate tsunamis.", choices: ["Only tides and currents", "Landslides and volcanic eruptions", "Blizzards and droughts", "Sunspots and eclipses"], a: 1 },
      { q: "Why are tsunamis often more dangerous near the coast?", choices: ["They get colder", "They slow down and grow taller", "They disappear", "They turn into rain"], a: 1 },
      { q: "What do DART buoys do?", choices: ["Fix seafloor shifts", "Record sudden changes in water level", "Block waves", "Measure fish populations"], a: 1 },
      { q: "Word meaning — In the passage, what does “displace” most nearly mean?", choices: ["To stay in place", "To push aside or move out of position", "To make louder", "To build up"], a: 1 },
      { q: "Word meaning — What does “amplify” mean as used in the passage?", choices: ["To make smaller", "To make something more powerful or larger", "To measure speed", "To cover with sand"], a: 1 }
    ]
  },

  {
    title: "How Coral Reefs Support Ocean Life",
    text: `Coral reefs are among the most biodiverse habitats on Earth. Often called the “rainforests of the sea,” reefs support thousands of species—fish, crustaceans, mollusks, sea turtles, and many kinds of algae and microscopic organisms. A reef is made mainly from the calcium carbonate skeletons secreted by tiny animals called coral polyps. Over long periods, these skeletons build up into complex three-dimensional structures that provide shelter and hiding places for small creatures, and hunting grounds for larger ones.

Reefs carry out many ecological roles. They act as nurseries where juvenile fish can find food and protection from predators; they also serve as feeding grounds for larger species and as stopping points for migratory animals. Reefs reduce coastal erosion by absorbing wave energy; when waves break against a reef, their force diminishes before reaching the shore. Economically, reefs support fisheries and tourism—many coastal human communities depend on reef-related resources for their livelihoods.

Coral health depends on a delicate partnership between the coral polyps and microscopic algae called zooxanthellae that live within the corals' tissues. These algae photosynthesize—using sunlight to make sugars—that feed the coral, while corals provide the algae with shelter and the compounds they need. Because of this partnership, corals need clear, sunlit, warm waters. If waters become too warm, corals expel the algae in a process known as coral bleaching, which can lead to coral death if the stressful conditions last.

Threats to reefs are multiple: warming oceans from climate change, ocean acidification that reduces the ability of corals to build skeletons, pollution from land runoff, coastal development, and unsustainable fishing practices. Protective actions include establishing marine protected areas, improving wastewater and land use management, reducing greenhouse gas emissions globally, and encouraging sustainable fishing and responsible tourism. Restoration projects—like growing corals in nurseries and transplanting them—show promise but are complex and labor-intensive.

Conserving reefs benefits both marine life and people. Healthy reefs are resilient and keep supporting the incredible diversity of ocean species. The survival of reefs depends on human choices—how communities manage their coasts, how nations act on climate change, and how visitors and fishers behave day-to-day.`,
    questions: [
      { q: "Why are coral reefs often called 'rainforests of the sea'?", choices: ["Because they are wet", "Because they contain many different species", "Because they only grow in forests", "Because they produce wood"], a: 1 },
      { q: "What building blocks create reef structures over time?", choices: ["Sand and rocks only", "Calcium carbonate skeletons from coral polyps", "Seaweed layers", "Fish bones"], a: 1 },
      { q: "What is coral bleaching?", choices: ["When coral grows too fast", "When corals expel their algae due to stress", "When coral become brighter colors", "When fish eat all the coral"], a: 1 },
      { q: "Name two human threats to coral reefs mentioned in the passage.", choices: ["Volcanoes and meteorites", "Overfishing and pollution", "Tidal changes and wind", "Space debris and satellites"], a: 1 },
      { q: "Word meaning — In the passage, what does “nursery” most nearly mean?", choices: ["A hospital for fish", "A safe place where young animals grow", "A toy shop", "A deep ocean trench"], a: 1 },
      { q: "Word meaning — What does “resilient” mean as used in the passage?", choices: ["Easily broken", "Able to recover from problems", "Very colorful", "Extremely large"], a: 1 }
    ]
  },

  {
    title: "The Amazon Rainforest Ecosystem",
    text: `The Amazon rainforest is the largest tropical forest on Earth, stretching across multiple countries and covering millions of hectares. It is a place of staggering biodiversity: trees and plants form thick layers of leaves that create a high canopy, and below them diverse animals like jaguars, sloths, monkeys, frogs, and innumerable insects find niches to live. Many plants and animals in the Amazon are endemic—found nowhere else—and scientists continue to discover new species each year.

The structure of the forest matters. Tall emergent trees rise above the canopy; the canopy layer itself catches most sunlight and shelters the understory and forest floor. Because sunlight is so reduced under the canopy, plants there have adapted to lower-light conditions. The forest also regulates climate: trees capture and store carbon dioxide, helping moderate global temperatures, and they release water by transpiration, contributing to regional rain patterns. Rivers cut through the forest, carrying nutrients and connecting remote human communities. These waterways serve as transportation routes and sources of fish and water.

Indigenous peoples have lived in the Amazon for thousands of years. They possess extensive knowledge of medicine, food plants, and sustainable hunting and farming methods attuned to the forest's rhythms. Their stewardship maintains cultural diversity and helps protect many areas. In recent decades, however, large-scale deforestation for cattle pasture, soy farming, logging, and mining has reduced forest cover, destroyed habitats, and released stored carbon back into the atmosphere. Fires, sometimes set intentionally to clear land, can spread and damage wide regions.

Protecting the Amazon requires a mixture of policies and actions: supporting indigenous land rights, encouraging sustainable farming and logging practices, enforcing regulations against illegal deforestation, and creating economic incentives to preserve forested land. Restoring damaged areas and reforesting degraded lands can help in the long term, as can international cooperation to address demand for commodities that drive clearing. Because the Amazon influences the global climate and supports countless species, its conservation is not only a regional concern but a global priority.`,
    questions: [
      { q: "What makes the Amazon especially important to global climate?", choices: ["It has many deserts", "Trees capture and store carbon dioxide", "It is very cold", "It is the only place with rivers"], a: 1 },
      { q: "Why do plants on the forest floor adapt to low-light conditions?", choices: ["Because they like dark", "Because the canopy blocks most sunlight", "Because there is too much wind", "Because soil is always dry"], a: 1 },
      { q: "How do rivers serve people in the Amazon region?", choices: ["They serve as highways and provide fish", "They prevent all fires", "They supply gold directly", "They dry out the forests"], a: 0 },
      { q: "Name two causes of deforestation mentioned in the passage.", choices: ["Cattle pasture and mining", "Earthquakes and tsunamis", "Volcanoes and glaciers", "Solar panels and wind farms"], a: 0 },
      { q: "Word meaning — In the passage, what does “endemic” most nearly mean?", choices: ["Rarely seen anywhere", "Found in a particular place only", "Dangerous to touch", "Extremely large"], a: 1 },
      { q: "Word meaning — What does “stewardship” mean as used in the passage?", choices: ["Careful management and protection", "A type of plant", "A river tool", "A hunting method"], a: 0 }
    ]
  },

  {
    title: "A Time Traveler Visiting the Future",
    text: `When the traveler arrived in the year 2150, the first thing that struck them was the vertical cityscape. Buildings rose like layered cliffs, linked by transparent sky-bridges and terraces where plants and fruit trees grew. The sky hummed with gentle transports—small air vehicles moving silently on electric lifts. Solar skins and thin-film panels covered many surfaces, collecting energy even when clouds passed overhead. The traveler found that technology had become both ubiquitous and subtle: communication was often woven into fabrics and eyeglass lenses, while information presented itself unobtrusively when asked.

Food systems had been transformed through a combination of urban farming, lab-grown proteins, and precision agriculture. Rooftops and vertical farms used LED lighting and nutrient systems to grow vegetables close to where people lived, decreasing the need for long supply chains. Protein sources included cultured meat made from cells and insect farms engineered for high nutrition with low resource use. Water was recycled efficiently; atmospheric water capture provided fresh water in dry zones, and smart distribution networks animated cities with minimal waste.

Work and daily rhythm changed too. Many repetitive or dangerous tasks were performed by cooperative robots, leaving people more time for creative and social pursuits—designing community projects, teaching, and local stewardship. Education emphasized interdisciplinary thinking: students learned coding, empathy, environmental science, and storytelling. People still formed neighborhoods and held markets and festivals; shared cultural traditions persisted, though often blended with new art forms created with mixed-reality tools.

Not everything was perfect. The traveler observed tensions: how to distribute resources fairly, how to govern systems that spanned nations, and how to ensure privacy in a world where data could be collected by countless sensors. Climate adaptation had succeeded in many areas, but some regions still struggled with sea-level rise, heatwaves, or degraded landscapes that needed restoration. The future that the traveler saw combined technological ingenuity with hard-earned humility: societies had learned that engineering solutions must be paired with strong community values and policies that protect most vulnerable people.

Leaving the future, the traveler took away a lesson: progress is not only about new machines or clever designs but about how people choose to share benefits and responsibilities. The future they visited was not a utopia, nor a dystopia. It was a messy, hopeful place where human creativity and cooperation continued to shape what comes next.`,
    questions: [
      { q: "What feature of the future city impressed the traveler first?", choices: ["Endless deserts", "Layered buildings connected by sky-bridges", "Huge open plains", "Single-story houses"], a: 1 },
      { q: "Name two ways food systems changed in the future.", choices: ["Only hunting", "Urban farming and lab-grown proteins", "Relying solely on imports", "Growing crops only underground"], a: 1 },
      { q: "What new emphasis did education have in this future?", choices: ["Focusing only on history", "Interdisciplinary thinking including empathy and environmental science", "Teaching only sports", "Avoiding technology entirely"], a: 1 },
      { q: "What ongoing problems did the traveler still observe?", choices: ["No problems at all", "Sea-level rise, resource distribution, and privacy concerns", "Only perfect equality", "No climate changes"], a: 1 },
      { q: "Word meaning — In the passage, what does “ubiquitous” most nearly mean?", choices: ["Extremely rare", "Found everywhere or very common", "Very expensive", "Dangerous"], a: 1 },
      { q: "Word meaning — What does “cultured” mean when referring to cultured meat?", choices: ["Meat grown in labs from cells", "Meat seasoned with herbs", "A type of plant", "A traditional recipe"], a: 0 }
    ]
  }
];

/* ===== state ===== */
let page = 0; // 0..4
const totalPages = passages.length;
const answers = {}; // store answers as { 'p{page}q{qIndex}': choiceIndex }

/* ===== UI elements ===== */
const passageHeader = document.getElementById('passageHeader');
const passageText = document.getElementById('passageText');
const qsContainer = document.getElementById('questionsContainer');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const submitBtn = document.getElementById('submitBtn');
const feedback = document.getElementById('feedback');
const qHeader = document.getElementById('qHeader');

/* ===== render functions ===== */
function renderPage(idx) {
  const p = passages[idx];
  passageHeader.textContent = `Passage ${idx+1} of ${totalPages} — ${p.title}`;
  passageText.textContent = p.text;
  qsContainer.innerHTML = '';
  qHeader.textContent = `Questions — Passage ${idx+1}`;

  p.questions.forEach((q, qi) => {
    const qDiv = document.createElement('div');
    qDiv.className = 'question';
    const qTitle = document.createElement('div');
    qTitle.className = 'qtext';
    qTitle.textContent = `Q${qi+1}. ${q.q}`;
    qDiv.appendChild(qTitle);

    const name = `p${idx}q${qi}`;
    q.choices.forEach((choice, ci) => {
      const id = `${name}c${ci}`;
      const label = document.createElement('label');
      label.className = 'option';
      label.htmlFor = id;
      const radio = document.createElement('input');
      radio.type = 'radio';
      radio.name = name;
      radio.id = id;
      radio.value = ci;
      // restore previous answer if existed
      const savedKey = `${name}`;
      if (answers[savedKey] !== undefined && answers[savedKey] === ci) {
        radio.checked = true;
      }
      radio.addEventListener('change', () => {
        answers[savedKey] = ci;
      });
      label.appendChild(radio);
      label.appendChild(document.createTextNode(choice));
      qDiv.appendChild(label);
    });

    qsContainer.appendChild(qDiv);
  });

  prevBtn.disabled = idx === 0;
  nextBtn.disabled = idx === totalPages - 1;

  // submit button only visible on last page
  submitBtn.style.display = (idx === totalPages - 1) ? 'inline-block' : 'none';

  // clear feedback area
  feedback.innerHTML = '';
}

/* grade all pages and show review */
function gradeAllAndShow() {
  let total = 0, score = 0;
  const reviewContainer = document.createElement('div');

  passages.forEach((p, pi) => {
    const passBlock = document.createElement('div');
    passBlock.style.marginBottom = '12px';
    const passTitle = document.createElement('div');
    passTitle.style.fontWeight = '700';
    passTitle.textContent = `Passage ${pi+1}: ${p.title}`;
    passBlock.appendChild(passTitle);

    p.questions.forEach((q, qi) => {
      total++;
      const key = `p${pi}q${qi}`;
      const chosen = answers[key] !== undefined ? Number(answers[key]) : null;
      const isCorrect = chosen === q.a;
      if (isCorrect) score++;

      const item = document.createElement('div');
      item.className = 'review-item';
      const qn = document.createElement('div');
      qn.className = 'qtext';
      qn.textContent = `Q${qi+1}. ${q.q}`;
      item.appendChild(qn);

      const your = document.createElement('div');
      your.className = isCorrect ? 'correct' : 'incorrect';
      const yourText = chosen === null ? 'Unanswered' : q.choices[chosen];
      your.textContent = `Your answer: ${yourText}`;
      item.appendChild(your);

      if (!isCorrect) {
        const corr = document.createElement('div');
        corr.style.marginTop = '6px';
        corr.textContent = `Correct answer: ${q.choices[q.a]}`;
        item.appendChild(corr);
      } else {
        const corr = document.createElement('div');
        corr.style.marginTop = '6px';
        corr.textContent = `Correct ✅`;
        item.appendChild(corr);
      }

      passBlock.appendChild(item);
    });

    reviewContainer.appendChild(passBlock);
  });

  // show score summary
  feedback.innerHTML = '';
  const scoreBox = document.createElement('div');
  scoreBox.className = 'resultBox';
  scoreBox.innerHTML = `<div style="font-weight:700">Score: ${score} / ${total}</div><div class="small" style="margin-top:6px">Review below shows your answers and the correct ones.</div>`;
  feedback.appendChild(scoreBox);
  feedback.appendChild(reviewContainer);

  // disable inputs after submission (prevent changes)
  disableAllInputs();

  // scroll feedback to top in the questions panel
  feedback.scrollIntoView({behavior:'smooth'});
}

/* disable all radio inputs so results cannot be changed after submit */
function disableAllInputs() {
  const radios = document.querySelectorAll('input[type=radio]');
  radios.forEach(r => r.disabled = true);
  // disable navigation
  prevBtn.disabled = true;
  nextBtn.disabled = true;
  submitBtn.disabled = true;
}

/* ===== Event listeners ===== */
prevBtn.addEventListener('click', () => {
  if (page > 0) {
    page--;
    renderPage(page);
  }
});

nextBtn.addEventListener('click', () => {
  if (page < totalPages - 1) {
    page++;
    renderPage(page);
  }
});

submitBtn.addEventListener('click', () => {
  // confirm intent
  const proceed = confirm("Submit answers and view results? You will not be able to change answers afterwards.");
  if (!proceed) return;
  gradeAllAndShow();
});

/* initialize first page */
renderPage(page);

</script>
</body>
</html>
